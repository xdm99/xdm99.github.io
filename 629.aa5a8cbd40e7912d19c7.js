"use strict";(self.webpackChunkrareworlds_app=self.webpackChunkrareworlds_app||[]).push([[629],{8629:(G,p,r)=>{r.r(p),r.d(p,{StakingModule:()=>j});var u=r(8583),g=r(4889),m=r(690),_=r(4562);const A=["check",(0,r(2981).h)({outline:'<path d="M13.72,27.69,3.29,17.27a1,1,0,0,1,1.41-1.41l9,9L31.29,7.29a1,1,0,0,1,1.41,1.41Z"/>'})];var f=r(4395),Z=r(7519),w=r(5257),q=r(7574),h=r(3637),b=r(9796);function y(n){const{subscriber:a,counter:e,period:l}=n;a.next(e),this.schedule({subscriber:a,counter:e+1,period:l},l)}var k=r(4987),t=r(639),i=r(665),W=r(4839),S=r(8465),v=r(8023),M=r(2669),s=r(1653);const I=["newWorldId"];function D(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"clr-alert",27),t.NdJ("clrAlertClosedChange",function(){t.CHM(e);const o=t.oxw();return o.closeAlert(o.stakingCalcDisclaimerAlertName)}),t.TgZ(1,"div",28),t.TgZ(2,"div",29),t._UZ(3,"cds-icon",30),t.qZA(),t.TgZ(4,"span",31),t.TgZ(5,"strong"),t._uU(6,"DISCLAIMER"),t.qZA(),t._UZ(7,"br"),t._UZ(8,"br"),t._uU(9," All of the provided information and the current tools are "),t.TgZ(10,"strong"),t._uU(11,"not intended"),t.qZA(),t._uU(12," to be used in financial operations. Results of the calculation are "),t.TgZ(13,"strong"),t._uU(14,"not financial advice"),t.qZA(),t._uU(15,". Please always do your own research. This site was created by world owner and nftworlds community supporter."),t._UZ(16,"br"),t.TgZ(17,"div",32),t._uU(18," Quote from "),t.TgZ(19,"a",33),t._uU(20,"docs.nftworlds.com"),t.qZA(),t._uU(21,": "),t.TgZ(22,"div",34),t.TgZ(23,"div",35),t._uU(24," ... $WRLD tokens are solely provided to create a medium of exchange only within the NFT Worlds game and ecosystem. $WRLD tokens "),t.TgZ(25,"strong"),t._uU(26,"are not intended"),t.qZA(),t._uU(27," to be an investment and there is "),t.TgZ(28,"strong"),t._uU(29,"no expectation"),t.qZA(),t._uU(30," that $WRLD tokens will ever have liquidity, any measurable value, or appreciate in value. ... "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",36),t.TgZ(32,"a",37),t._uU(33," More about $WRLD "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}function N(n,a){1&n&&t._UZ(0,"clr-spinner",38),2&n&&t.Q6J("clrMedium",!0)}const P=function(n){return["/world",n]};function R(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",39),t.TgZ(2,"a",40),t._uU(3),t.qZA(),t.TgZ(4,"cds-icon",41),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().removeWorldFromSelected(c.worldNumber)}),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(3,P,e.worldNumber)),t.xp6(1),t.AsE(" World #",e.worldNumber," (Rarity ",e.rarityRank,") ")}}function O(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",42),t.TgZ(1,"clr-input-container"),t.TgZ(2,"label"),t._uU(3,"Enter World Id"),t.qZA(),t._UZ(4,"input",43,44),t.qZA(),t.TgZ(6,"button",45),t.NdJ("click",function(o){return t.CHM(e),t.oxw().addWorldToSelected(o)}),t._uU(7,"Add World"),t.qZA(),t.qZA()}}function J(n,a){1&n&&(t.TgZ(0,"p"),t._uU(1," Please add some worlds first "),t.qZA())}function L(n,a){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.rangeLabel),t.xp6(2),t.Oqu(t.lcZ(5,3,e.tokenTotal)),t.xp6(3),t.Oqu(t.lcZ(8,5,e.fiatTotal))}}function F(n,a){if(1&n&&(t.TgZ(0,"table",46),t.TgZ(1,"thead"),t.TgZ(2,"tr"),t.TgZ(3,"th"),t._uU(4,"Date Range"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"$WRLD"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Equiv."),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"tbody"),t.YNc(10,L,9,7,"tr",8),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",e.results)}}function Q(n,a){1&n&&(t.ynx(0),t._uU(1,"Save Entered Data"),t.BQk())}function E(n,a){1&n&&t._uU(0,"Saved Successfully")}function Y(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",23),t.TgZ(1,"h5"),t._uU(2,"4. Save for Later"),t.qZA(),t.TgZ(3,"span",47),t._uU(4," Got tired entering World Ids and $WRLD desirable values every time?"),t._UZ(5,"br"),t._uU(6," Save your data in browser's local storage and use it later. "),t.qZA(),t.TgZ(7,"div",48),t.TgZ(8,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearSavedCalcData()}),t._uU(9," Clear Saved Data "),t.qZA(),t.TgZ(10,"button",50),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveChanges()}),t.YNc(11,Q,2,0,"ng-container",51),t.YNc(12,E,1,0,"ng-template",null,52,t.W1O),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.MAs(13),l=t.oxw();t.xp6(11),t.Q6J("ngIf",!l.saved)("ngIfElse",e)}}const $=[{path:"",redirectTo:"calculator",pathMatch:"full"},{path:"calculator",component:(()=>{class n{constructor(e,l,o,c,d){this.fb=e,this.worldsService=l,this.userService=o,this.stakingCalc=c,this.alertsService=d,this.worlds=[],this.walletDataLoading=!1,this.results=[],this.restored=!1,this.saved=!1,this.defaultValue={worlds:[],mode:"manual",totalStaked:7500,tokenPrice:.2},this.stakingCalcDisclaimerAlertName=k.LA.stakingCalcDisclaimerName,this.initForm()}ngOnInit(){this.loadIcons(),this.loadSavedData()}loadIcons(){m.Q.addIcons(_.O),m.Q.addIcons(A)}closeAlert(e){this.alertsService.closeAlert(e)}loadSavedData(){this.worldsService.dataReady$.subscribe(e=>{if(e){const l=this.stakingCalc.getSavedCalcData();l&&(this.form.setValue(l),this.updateSelectedWorlds(),this.restored=!0)}})}initForm(){var e,l;this.form=this.fb.group({worlds:this.fb.control(this.defaultValue.worlds),mode:this.defaultValue.mode,totalStaked:this.defaultValue.totalStaked,tokenPrice:this.defaultValue.tokenPrice}),null===(e=this.form.get("totalStaked"))||void 0===e||e.valueChanges.pipe((0,f.b)(200),(0,Z.x)()).subscribe(()=>this.refreshData()),null===(l=this.form.get("tokenPrice"))||void 0===l||l.valueChanges.pipe((0,f.b)(200),(0,Z.x)()).subscribe(()=>this.refreshData())}addWorldToSelected(e){const l=this.newWorldIdRef.nativeElement.value;if(!l)return;const o=parseInt(l);if(this.newWorldIdRef.nativeElement.value="",o<1||o>10001||isNaN(o))return;const c=this.form.value.worlds;c.push(o);const d=[...new Set(c)];this.form.get("worlds").setValue(d),this.updateSelectedWorlds()}updateSelectedWorlds(){this.worlds=this.form.get("worlds").value.map(e=>this.worldsService.worlds.get(e)),this.stakingCalc.worlds=this.worlds,this.buildResults()}removeWorldFromSelected(e){const l=this.form.get("worlds").value.filter(o=>o!==e);this.setWorlds(l)}loadConnectedWalletData(){this.walletDataLoading=!0,this.userService.getUserWorlds().subscribe(e=>{void 0!==e&&this.setWorlds(e.map(l=>l.worldNumber)),this.walletDataLoading=!1})}refreshData(){this.buildResults()}isManualMode(){return"manual"===this.form.controls.mode.value}saveChanges(){this.form.valid&&(this.stakingCalc.saveCalcData(this.form.value),this.saved=!0,function(n=0,a=h.P){return(!function(n){return!(0,b.k)(n)&&n-parseFloat(n)+1>=0}(n)||n<0)&&(n=0),(!a||"function"!=typeof a.schedule)&&(a=h.P),new q.y(e=>(e.add(a.schedule(y,n,{subscriber:e,counter:0,period:n})),e))}(3e3).pipe((0,w.q)(1)).subscribe(()=>{this.saved=!1}))}clearSavedCalcData(){this.form.reset(this.defaultValue),this.worlds=[],this.refreshData(),this.stakingCalc.clearSavedCalcData()}setWorlds(e){this.form.get("worlds").setValue(e),this.updateSelectedWorlds()}buildResults(){const{totalStaked:l,tokenPrice:o}=this.form.value;this.results=[],[["1 day",1],["1 week",7],["28 days",27],["3 months",90],["1 year",365],["5 years",1825]].forEach(([c,d])=>{const C=this.stakingCalc.getTotalStakingEstimation(d,parseInt(l)),B=C*parseFloat(o);this.results.push({rangeLabel:c,tokenTotal:C,fiatTotal:B})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(W.R),t.Y36(S.K),t.Y36(v.x1),t.Y36(M.m))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-calculator"]],viewQuery:function(e,l){if(1&e&&t.Gf(I,5),2&e){let o;t.iGM(o=t.CRH())&&(l.newWorldIdRef=o.first)}},decls:70,vars:9,consts:[["clrAlertType","warning",3,"clrAlertClosedChange",4,"ngIf"],[3,"formGroup"],[1,"calculator-step"],[1,"calculator-step-contents"],["type","radio","clrRadio","","formControlName","mode","value","manual"],["type","radio","clrRadio","","formControlName","mode","value","wallet",3,"click"],["type","radio","clrRadio","","formControlName","mode","value","address"],[3,"clrMedium",4,"ngIf"],[4,"ngFor","ngForOf"],["class","world-id-wrapper",4,"ngIf"],["clrSelect","","formControlName","totalStaked"],["value","2500"],["value","3300"],["value","5000"],["value","6600"],["value","7500"],["value","8000"],["value","8500"],["value","9000"],["value","9500"],["value","9900"],["value","10000"],["type","number","clrInput","","maxlength","5","min","0.001","max","10000","formControlName","tokenPrice"],[1,"calculator-step","calc-result"],[4,"ngIf"],["class","table",4,"ngIf"],["class","calculator-step calc-result",4,"ngIf"],["clrAlertType","warning",3,"clrAlertClosedChange"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","exclamation-triangle",1,"alert-icon"],[1,"alert-text"],[2,"margin-top","0.5rem"],["href","https://docs.nftworlds.com","target","_blank"],[2,"border-left","2px solid #555","margin-left","0rem","padding-left","0.5rem","font-style","italic"],[2,"margin","0.5rem 0"],[1,"alert-actions"],["href","https://docs.nftworlds.com/nft-worlds-usdwrld-token/what-is-usdwrld","target","_blank",1,"alert-action"],[3,"clrMedium"],[1,"label"],["href","","target","_blank",2,"margin-right","5px",3,"routerLink"],["shape","window-close",2,"cursor","pointer",3,"click"],[1,"world-id-wrapper"],["type","number","pattern","[0-9]*","clrInput","","maxlength","5","min","1","max","10000"],["newWorldId",""],[1,"btn","btn-sm","btn-outline",3,"click"],[1,"table"],[1,"clr-subtext"],[1,"calc-result-buttons"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"btn","btn-sm","btn-primary",3,"click"],[4,"ngIf","ngIfElse"],["savedLabel",""]],template:function(e,l){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Staking Calculator"),t.qZA(),t.YNc(2,D,34,0,"clr-alert",0),t.TgZ(3,"form",1),t.TgZ(4,"div",2),t.TgZ(5,"h5"),t._uU(6,"1. Select Worlds"),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"clr-radio-container"),t.TgZ(9,"clr-radio-wrapper"),t._UZ(10,"input",4),t.TgZ(11,"label"),t._uU(12,"Input World Ids Manually"),t.qZA(),t.qZA(),t.TgZ(13,"clr-radio-wrapper"),t.TgZ(14,"input",5),t.NdJ("click",function(){return l.loadConnectedWalletData()}),t.qZA(),t.TgZ(15,"label"),t._uU(16,"Use Connected Wallet Data"),t.qZA(),t.qZA(),t.TgZ(17,"clr-radio-wrapper"),t._UZ(18,"input",6),t.TgZ(19,"label"),t._uU(20,"Use Any Wallet Address (coming soon)"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"div"),t.YNc(22,N,1,1,"clr-spinner",7),t.YNc(23,R,5,5,"ng-container",8),t.qZA(),t.YNc(24,O,8,0,"div",9),t.qZA(),t.qZA(),t.TgZ(25,"div",2),t.TgZ(26,"h5"),t._uU(27,"2. Setup Variables"),t.qZA(),t.TgZ(28,"div",3),t.TgZ(29,"clr-select-container"),t.TgZ(30,"label"),t._uU(31,"2.1 Percent of total staked worlds"),t.qZA(),t.TgZ(32,"select",10),t.TgZ(33,"option",11),t._uU(34,"25% Worlds"),t.qZA(),t.TgZ(35,"option",12),t._uU(36,"33% Worlds"),t.qZA(),t.TgZ(37,"option",13),t._uU(38,"50% Worlds"),t.qZA(),t.TgZ(39,"option",14),t._uU(40,"66% Worlds"),t.qZA(),t.TgZ(41,"option",15),t._uU(42,"75% Worlds"),t.qZA(),t.TgZ(43,"option",16),t._uU(44,"80% Worlds"),t.qZA(),t.TgZ(45,"option",17),t._uU(46,"85% Worlds"),t.qZA(),t.TgZ(47,"option",18),t._uU(48,"90% Worlds"),t.qZA(),t.TgZ(49,"option",19),t._uU(50,"95% Worlds"),t.qZA(),t.TgZ(51,"option",20),t._uU(52,"99% Worlds"),t.qZA(),t.TgZ(53,"option",21),t._uU(54,"100% Worlds"),t.qZA(),t.qZA(),t.TgZ(55,"clr-control-helper"),t._uU(56,"If more total staked worlds, then less token reward for each world (incl. yours) "),t.qZA(),t.qZA(),t.TgZ(57,"clr-input-container"),t.TgZ(58,"label"),t._uU(59,"2.2 Expected $WRLD Price"),t.qZA(),t._UZ(60,"input",22),t.TgZ(61,"clr-control-helper"),t._uU(62,"Price in any equivalent you want, but remember 1 $WRLD = 1 $WRLD"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(63,"div",23),t.TgZ(64,"h5"),t._uU(65,"3. Get the Results"),t.qZA(),t.TgZ(66,"div",3),t.YNc(67,J,2,0,"p",24),t.YNc(68,F,11,1,"table",25),t.qZA(),t.qZA(),t.YNc(69,Y,14,2,"div",26),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",l.alertsService.isAlertVisible(l.stakingCalcDisclaimerAlertName)),t.xp6(1),t.Q6J("formGroup",l.form),t.xp6(15),t.uIk("disabled",!0),t.xp6(4),t.Q6J("ngIf",l.walletDataLoading),t.xp6(1),t.Q6J("ngForOf",l.worlds),t.xp6(1),t.Q6J("ngIf",l.isManualMode()),t.xp6(43),t.Q6J("ngIf",!l.worlds.length),t.xp6(1),t.Q6J("ngIf",l.worlds.length),t.xp6(1),t.Q6J("ngIf",l.worlds.length||!l.form.pristine))},directives:[u.O5,i._Y,i.JL,i.sg,s.DAq,s.EeQ,i._,i.Fj,s.asN,i.JJ,i.u,s.MgK,u.sg,s.dTv,i.EJ,s.otW,i.YN,i.Kr,s.CM6,s.G55,i.qQ,i.Fd,i.wV,s.xRP,i.nD,s.TIm,s.nkF,s.I9z,s.vNO,g.yS],pipes:[u.JJ],styles:[".calculator-step[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-top:.5rem}.calculator-step[_ngcontent-%COMP%]:not(:first-child){margin-top:0}.calculator-step[_ngcontent-%COMP%]:not(:last-child){margin-bottom:1rem}.calculator-step[_ngcontent-%COMP%]   .calculator-step-contents[_ngcontent-%COMP%]{margin-left:.5rem}.world-id-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:flex-start;align-items:baseline}.world-id-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}.world-id-wrapper[_ngcontent-%COMP%]   clr-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start;justify-content:flex-start;align-items:flex-end}.world-id-wrapper[_ngcontent-%COMP%]   clr-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:.5rem}.calc-result[_ngcontent-%COMP%]{max-width:400px}.calc-result[_ngcontent-%COMP%]   .calc-result-buttons[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:row}.calc-result[_ngcontent-%COMP%]   .calc-result-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),n})()}];let V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild($)],g.Bz]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[v.x1],imports:[[u.ez,V,s.qN9,s.Evj,i.UX,s.jcn,s.mfR,i.u5,s.eu2,s.BUF,s.oai]]}),n})()}}]);